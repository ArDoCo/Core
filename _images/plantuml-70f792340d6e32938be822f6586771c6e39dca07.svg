<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="300px" preserveAspectRatio="none" style="width:1477px;height:300px;background:#FFFFFF;" version="1.1" viewBox="0 0 1477 300" width="1477px" zoomAndPan="magnify"><defs/><g><!--MD5=[0e5a4c170db337371c2342487826c6fc]
class VectorBasedWordSimMeasure--><g id="elem_VectorBasedWordSimMeasure"><rect codeLine="1" fill="#F1F1F1" height="113.1875" id="VectorBasedWordSimMeasure" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="609" x="7" y="180"/><ellipse cx="202.25" cy="196" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M202.3594,191.3438 L201.2031,196.4219 L203.5313,196.4219 L202.3594,191.3438 Z M200.875,189.1094 L203.8594,189.1094 L207.2188,201.5 L204.7656,201.5 L204,198.4375 L200.7188,198.4375 L199.9688,201.5 L197.5313,201.5 L200.875,189.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="210" x="222.75" y="200.8467">VectorBasedWordSimMeasure</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="615" y1="212" y2="212"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="220"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="27" y="228.9951">vectorDataSource: WordVectorDataSource</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="236.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="27" y="245.292">vectorCache: Map&lt;String, float[]&gt;</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="615" y1="252.5938" y2="252.5938"/><ellipse cx="18" cy="263.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="583" x="27" y="269.5889">«Create» VectorBasedWordSimMeasure(vectorDataSource: WordVectorDataSource)</text><ellipse cx="18" cy="279.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="379" x="27" y="285.8857">compareVectors(firstWord: String, secondWord: String)</text></g><!--MD5=[fb71c15218703b367ced4e2e9daddf23]
class WordSimMeasure--><g id="elem_WordSimMeasure"><rect codeLine="9" fill="#F1F1F1" height="48" id="WordSimMeasure" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="235" y="39.5"/><ellipse cx="250" cy="55.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M245.9219,51.2656 L245.9219,49.1094 L253.3125,49.1094 L253.3125,51.2656 L250.8438,51.2656 L250.8438,59.3438 L253.3125,59.3438 L253.3125,61.5 L245.9219,61.5 L245.9219,59.3438 L248.3906,59.3438 L248.3906,51.2656 L245.9219,51.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="121" x="264" y="60.3467">WordSimMeasure</text><line style="stroke:#181818;stroke-width:0.5;" x1="236" x2="387" y1="71.5" y2="71.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="236" x2="387" y1="79.5" y2="79.5"/></g><!--MD5=[3d6d26e3f8308407c6701a11a814a3b3]
class WordVectorDataSource--><g id="elem_WordVectorDataSource"><rect codeLine="12" fill="#F1F1F1" height="64.2969" id="WordVectorDataSource" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="352" x="651.5" y="31.5"/><ellipse cx="741.25" cy="47.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M737.1719,43.2656 L737.1719,41.1094 L744.5625,41.1094 L744.5625,43.2656 L742.0938,43.2656 L742.0938,51.3438 L744.5625,51.3438 L744.5625,53.5 L737.1719,53.5 L737.1719,51.3438 L739.6406,51.3438 L739.6406,43.2656 L737.1719,43.2656 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="164" x="761.75" y="52.3467">WordVectorDataSource</text><line style="stroke:#181818;stroke-width:0.5;" x1="652.5" x2="1002.5" y1="63.5" y2="63.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="652.5" x2="1002.5" y1="71.5" y2="71.5"/><ellipse cx="662.5" cy="82.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="671.5" y="88.4951">getWordVector(word: String): Optional&lt;float[]&gt;</text></g><!--MD5=[1bc786666bbc6a9ef7a9880a6777dcd4]
class VectorSqliteDatabase--><g id="elem_VectorSqliteDatabase"><rect codeLine="16" fill="#F1F1F1" height="96.8906" id="VectorSqliteDatabase" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="353" x="651" y="188"/><ellipse cx="748.75" cy="204" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M751.7188,209.6406 Q751.1406,209.9375 750.5,210.0781 Q749.8594,210.2344 749.1563,210.2344 Q746.6563,210.2344 745.3281,208.5938 Q744.0156,206.9375 744.0156,203.8125 Q744.0156,200.6875 745.3281,199.0313 Q746.6563,197.375 749.1563,197.375 Q749.8594,197.375 750.5,197.5313 Q751.1563,197.6875 751.7188,197.9844 L751.7188,200.7031 Q751.0938,200.125 750.5,199.8594 Q749.9063,199.5781 749.2813,199.5781 Q747.9375,199.5781 747.25,200.6563 Q746.5625,201.7188 746.5625,203.8125 Q746.5625,205.9063 747.25,206.9844 Q747.9375,208.0469 749.2813,208.0469 Q749.9063,208.0469 750.5,207.7813 Q751.0938,207.5 751.7188,206.9219 L751.7188,209.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="769.25" y="208.8467">VectorSqliteDatabase</text><line style="stroke:#181818;stroke-width:0.5;" x1="652" x2="1003" y1="220" y2="220"/><line style="stroke:#181818;stroke-width:0.5;" x1="652" x2="1003" y1="228" y2="228"/><ellipse cx="662" cy="239" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="327" x="671" y="244.9951">«Create» VectorSqliteDatabase(sqliteFile: Path)</text><ellipse cx="662" cy="255.2969" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="326" x="671" y="261.292">getWordVector(word: String): Optional&lt;float[]&gt;</text><ellipse cx="662" cy="271.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="671" y="277.5889">close()</text></g><!--MD5=[6526d5acbcca576dbc019847702d413d]
class VectorUtils--><g id="elem_VectorUtils"><rect codeLine="22" fill="#F1F1F1" height="113.1875" id="VectorUtils" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="431" x="1039" y="7"/><ellipse cx="1213.25" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1216.2188,28.6406 Q1215.6406,28.9375 1215,29.0781 Q1214.3594,29.2344 1213.6563,29.2344 Q1211.1563,29.2344 1209.8281,27.5938 Q1208.5156,25.9375 1208.5156,22.8125 Q1208.5156,19.6875 1209.8281,18.0313 Q1211.1563,16.375 1213.6563,16.375 Q1214.3594,16.375 1215,16.5313 Q1215.6563,16.6875 1216.2188,16.9844 L1216.2188,19.7031 Q1215.5938,19.125 1215,18.8594 Q1214.4063,18.5781 1213.7813,18.5781 Q1212.4375,18.5781 1211.75,19.6563 Q1211.0625,20.7188 1211.0625,22.8125 Q1211.0625,24.9063 1211.75,25.9844 Q1212.4375,27.0469 1213.7813,27.0469 Q1214.4063,27.0469 1215,26.7813 Q1215.5938,26.5 1216.2188,25.9219 L1216.2188,28.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="1233.75" y="27.8467">VectorUtils</text><line style="stroke:#181818;stroke-width:0.5;" x1="1040" x2="1469" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="1040" x2="1469" y1="47" y2="47"/><ellipse cx="1050" cy="58" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="405" x="1059" y="63.9951">cosineSimilarity(firstVec: float[], secondVec: float[]): double</text><ellipse cx="1050" cy="74.2969" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="210" x="1059" y="80.292">isZero(vector: float[]): boolean</text><ellipse cx="1050" cy="90.5938" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="258" x="1059" y="96.5889">add(result: double[], toAdd: double[])</text><ellipse cx="1050" cy="106.8906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" text-decoration="underline" textLength="261" x="1059" y="112.8857">scale(vector: double[], scalar: double)</text></g><!--MD5=[a0d363037f62853e5b0267b16eeb8d1c]
reverse link WordSimMeasure to VectorBasedWordSimMeasure--><g id="link_WordSimMeasure_VectorBasedWordSimMeasure"><path codeLine="10" d="M311.5,107.83 C311.5,129.67 311.5,156.41 311.5,179.76 " fill="none" id="WordSimMeasure-backto-VectorBasedWordSimMeasure" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="304.5,107.56,311.5,87.56,318.5,107.56,304.5,107.56" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[319a83e1e99a2182ddbb9a6792ab5468]
reverse link WordVectorDataSource to VectorSqliteDatabase--><g id="link_WordVectorDataSource_VectorSqliteDatabase"><path codeLine="15" d="M827.5,115.91 C827.5,138.75 827.5,165.48 827.5,187.86 " fill="none" id="WordVectorDataSource-backto-VectorSqliteDatabase" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="820.5,115.86,827.5,95.86,834.5,115.86,820.5,115.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[913ba54caaa715ae01f3507844c074f4]
@startuml
abstract class VectorBasedWordSimMeasure {
- vectorDataSource: WordVectorDataSource
- vectorCache: Map<String, float[]>

+ <<Create>> VectorBasedWordSimMeasure(vectorDataSource: WordVectorDataSource)
+ compareVectors(firstWord: String, secondWord: String)
}

interface WordSimMeasure
WordSimMeasure <|.. VectorBasedWordSimMeasure

interface WordVectorDataSource {
+ getWordVector(word: String): Optional<float[]>
}
WordVectorDataSource <|.. VectorSqliteDatabase
class VectorSqliteDatabase {
+ <<Create>> VectorSqliteDatabase(sqliteFile: Path)
+ getWordVector(word: String): Optional<float[]>
+ close()
}

class VectorUtils {
+{static} cosineSimilarity(firstVec: float[], secondVec: float[]): double
+{static} isZero(vector: float[]): boolean
+{static} add(result: double[], toAdd: double[])
+{static} scale(vector: double[], scalar: double)
}

@enduml

PlantUML version 1.2022.4(Sat Apr 09 13:29:17 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>